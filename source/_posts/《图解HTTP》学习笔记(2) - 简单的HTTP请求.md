
## HTTP协议用于客户端和服务端之间的通信

应用HTTP协议时，必定一方为客户端，另一方为服务端。
<!--more-->
**HTTP协议支持的方法**


| 方法      | 作用          | 支持的HTTP协议版本 |
| ------- | ----------- | ----------- |
| GET     | 获取资源        | 1.0、1.1     |
| POST    | 传输实体主体      | 1.0、1.1     |
| PUT     | 传输文件        | 1.0、1.1     |
| HEAD    | 获得报文首部      | 1.0、1.1     |
| DETELE  | 删除文件        | 1.0、1.1     |
| OPTIONS | 询问支持的方法     | 1.1         |
| TRACE   | 追踪路径        | 1.1         |
| CONNECT | 要求用隧道协议链接代理 | 1.1         |
| LINK    | 建立和资源之间的联系  | 1.0         |
| UNLINK  | 断开连接关系      | 1.0         |



### HTTP的持久连接和管线化

在HTTP的初始版本中，没进行一次HTTP请求就会断开一次TCP连接，之前因为传输的文件容量很小，因此没有什么问题，但随着HTTP的普及， 文档中传送大量图片的情况多了起来。

比如，使用浏览器访问一个包含多张图片的页面时，除了请求HTML页面之外，还需要请求里面的其他资源，因此会造成无畏的TCP链接和断开，增加通信量的开销。

#### 持久连接

为了解决频繁进行TCP连接和断开的问题，HTTP/1.1想到了持久连接的办法，持久连接的特点是，只要一端没有明确提出断开连接，则保持TCP连接状态。这样的方法减少了TCP连接和断开的无畏开销，降低了服务器的负担，从而可以提高页面的加载速度。

#### 管线化

持久连接使得请求管线化传输成为了可能，之前数据的传递是串联进行的，就是说一个请求在接收到返回之后，下一个请求才会开始，而管线化是指，下一个请求不必等到上一个请求返回再开始，请求可以一个一个的接连开始，管线化技术比持久连接技术更能提高请求速度，且请求数越多，时间差距越明显。

### 使用Cookie进行状态管理

HTTP是一个无状态协议，就是说它不会根据之前的请求和返回去处理当前请求，如果一个需要登录认证的web页面将状态记录放到了服务端，那么就需要在每次跳转页面之后重新进行登录。

无状态协议是它的优势，由于不需要记录状态，自然可以减少对CPU及内存的消耗，另一方面，也正是因为HTTP协议十分简单，才会被应用到各个场景中去。

为了既保留无状态协议的优势，又能够解决类似的问题，于是引入了Cookie技术，通过在请求和返回的报文信息中加入Cookie信息，来控制客户端的状态。

Cookie会根据服务端返回的报文中的set-Cookie字段，通知客户端保存Cookie，当下次客户端再次向服务端发起请求时，会自动携带这个Cookie信息，服务端接到Cookie后，会通过Cookie判断客户端状态。



